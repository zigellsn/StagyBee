{% load i18n %}

{% get_current_language as LANGUAGE_CODE %}
{% get_current_language_bidi as LANGUAGE_BIDI %}
<table class="table-auto">
    <thead>
    <tr>
        <th class="px-5 py-3 border-b-2 text-center text-xs font-semibold uppercase tracking-wider">{% trans "Nachricht" %}</th>
        <th class="px-5 py-3 border-b-2 text-center text-xs font-semibold uppercase tracking-wider">{% trans "Gültig bis" %}</th>
        <th class="px-5 py-3 border-b-2 text-center text-xs font-semibold uppercase tracking-wider">{% trans "Sprache" %}</th>
        <th class="px-5 py-3 border-b-2 text-center text-xs font-semibold uppercase tracking-wider">{% trans "Aktiv" %}</th>
        <th class="px-5 py-3 border-b-2 text-center text-xs font-semibold uppercase tracking-wider">{% trans "Aktionen" %}</th>
    </tr>
    </thead>
    <tbody>
    {% for notification in object_list %}
        <tr>
            <td class="px-5 py-5 text-sm w-2/5">
                <div>
                    {% if notification.importance == 0 %}
                        <span>{% include 'icons/quote.html' %}</span>
                    {% endif %}
                    {% if notification.importance == 1 %}
                        <span>{% include 'icons/info.html' %}</span>
                    {% endif %}
                    {% if notification.importance == 2 %}
                        <span>{% include 'icons/warning.html' %}</span>
                    {% endif %}
                    {% if notification.importance == 3 %}
                        <span class="text-red-500">{% include 'icons/cancel.html' %}</span>
                    {% endif %}
                    &nbsp;{{ notification.subject }}&nbsp;({{ notification.create_date|date }})<br>{{ notification.message }}
                </div>
            </td>
            <td class="px-5 py-5 text-sm w-2/5">
                <div>{{ notification.max_duration|date }}</div>
            </td>
            <td class="px-5 py-5 text-sm w-2/5">
                {% if notification.locale != " " %}
                    {% get_language_info for notification.locale as lang %}
                {% endif %}
                <div>{% if notification.locale  != " " %}{{ lang.name_translated }}{% else %}
                    {% trans "Alle" %}{% endif %}</div>
            </td>
            <td class="px-5 py-5 text-sm w-2/5">
                <div><label for="active"></label>
                    <input id="active" type="checkbox" {% if notification.active %}checked{% endif %} readonly>
                </div>
            </td>
            <td class="px-5 py-5 text-sm w-2/5">
                <a href="{% url 'notification:notification_update' notification.id %}">
                    <div class="bg-blue-500 hover:bg-blue-700 inline-flex items-center text-white font-bold py-2 px-4 rounded">
                        <span>{% include 'icons/edit.html' %}</span>&nbsp;{% trans "Bearbeiten" %}</div>
                </a>
                <a href="{% url 'notification:notification_delete' notification.id %}">
                    <div class="bg-blue-500 hover:bg-blue-700 inline-flex items-center text-white font-bold py-2 px-4 rounded">
                        <span>{% include 'icons/delete.html' %}</span>&nbsp;{% trans "Löschen" %}</div>
                </a>
            </td>
        </tr>
    {% empty %}
        <tr>
            <td class="px-5 py-5 text-sm w-2/5" colspan="5">
                <div class="text-lg text-center">{% trans "Keine Einträge vorhanden" %}</div>
            </td>
        </tr>
    {% endfor %}
    <tr>
        <td class="px-5 py-5 text-sm w-2/5"></td>
        <td class="px-5 py-5 text-sm w-2/5"></td>
        <td class="px-5 py-5 text-sm w-2/5"></td>
        <td class="px-5 py-5 text-sm w-2/5"></td>
        <td class="px-5 py-5 text-sm w-2/5">
            <a href="{% url 'notification:notification_create' %}">
                <div class="bg-blue-500 hover:bg-blue-700 inline-flex items-center text-white font-bold py-2 px-4 rounded">
                    <span>{% include 'icons/document_add.html' %}</span>&nbsp;{% trans "Neu" %}</div>
            </a>
        </td>
    </tr>
    </tbody>
</table>
